(this["webpackJsonptender-form"]=this["webpackJsonptender-form"]||[]).push([[0],{261:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(35),l=n.n(i),c=(n(65),n(58)),o=n(4),d=(n(77),n(8)),s=n(7),u=n.n(s),m=n(5),p=n.n(m),f=n(6),h=n(10),E=n.n(h),b=n(1),y=(n(216),n(262)),v=Object(a.createContext)({state:{tender:{title:"",description:"",classification:{scheme:"CPV",id:"",description:""},lots:[],items:[]}},dispatch:function(){}}),g=n(36),x=n.n(g);function O(){var e=Object(d.a)(["\n  background-color: #ff9700;\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 10px;\n"]);return O=function(){return e},e}var j=b.default.button(O()),C=function(e){var t=e.index,n=e.classIndex,i=Object(a.useContext)(v),l=i.state,c=i.dispatch;return r.a.createElement(p.a,{margin:{top:"regular",bottom:"regular"}},r.a.createElement("label",null,r.a.createElement(u.a,{variant:"small"},"Scheme:"),r.a.createElement(f.TextInput,{isDisabled:!0,placeholder:"CPV",value:"CPV"})),r.a.createElement("label",null,r.a.createElement(u.a,{variant:"small"},"Scheme id:"),r.a.createElement(f.TextInput,{placeholder:"id",value:l.tender.items[t].additionalClassification[n].id,onChange:function(e){return c({type:"set",payload:e,path:"tender.items[".concat(t,"].additionalClassification[").concat(n,"].id")})}})),r.a.createElement("label",null,r.a.createElement(u.a,{variant:"small"}," Scheme description:"),r.a.createElement(f.TextInput,{placeholder:"description",value:l.tender.items[t].additionalClassification[n].description,onChange:function(e){return c({type:"set",payload:e,path:"tender.items[".concat(t,"].additionalClassification[").concat(n,"].description")})}})),r.a.createElement(j,{onClick:function(){c({type:"remove_class",payload:{index:t,classIndex:n},path:""})}},r.a.createElement("i",{className:"fa fa-trash"})))};function T(){var e=Object(d.a)(["\n              margin: auto;\n              margin-top: 20px;\n            "]);return T=function(){return e},e}function I(){var e=Object(d.a)(["\n            margin-top: 10px;\n            padding: 15px;\n            border: 1px dashed grey;\n          "]);return I=function(){return e},e}var k=function(e){e.relatedLot;var t=e.index,n=Object(a.useContext)(v),i=n.state,l=n.dispatch,c=i.tender.items[t].additionalClassification.map((function(e,n){return r.a.createElement(C,{index:t,classIndex:n,key:n})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{direction:"column",styled:{Flex:Object(b.css)(I())}},r.a.createElement("label",null,"Description",r.a.createElement(f.TextInput,{onChange:function(e){return l({type:"set",payload:e,path:"tender.items[".concat(t,"].description")})}})),r.a.createElement(p.a,{margin:{top:"regular",bottom:"regular"}},r.a.createElement("label",null,r.a.createElement(u.a,{variant:"small"},"Scheme:"),r.a.createElement(f.TextInput,{isDisabled:!0,placeholder:"CPV",value:"CPV"})),r.a.createElement("label",null,r.a.createElement(u.a,{variant:"small"},"Scheme id:"),r.a.createElement(f.TextInput,{placeholder:"id",onChange:function(e){return l({type:"set",payload:e,path:"tender.items[".concat(t,"].classification.id")})}})),r.a.createElement("label",null,r.a.createElement(u.a,{variant:"small"}," Scheme description:"),r.a.createElement(f.TextInput,{placeholder:"description",onChange:function(e){return l({type:"set",payload:e,path:"tender.items.[".concat(t,"].classification.description")})}}))),r.a.createElement("label",null,"Quantity:",r.a.createElement(f.TextInput,{name:"quantity",onChange:function(e){return l({type:"set",payload:e,path:"tender.items[".concat(t,"].quantity")})}})),r.a.createElement(x.a,{direction:"row",name:"unit",options:{1:{label:"metre",value:123},2:{label:"kilo",value:321}},onChange:function(e){return l({type:"set",payload:{id:e.value,name:e.label},path:"tender.items[".concat(t,"].unit")})},styled:{RadioGroup:Object(b.css)(T())}}),c,r.a.createElement(p.a,null,r.a.createElement(E.a,{onClick:function(){l({type:"set",payload:{scheme:"CPV",id:"",description:""},path:"tender.items[".concat(t,"].additionalClassification[").concat(i.tender.items[t].additionalClassification.length,"]")})}},"Add Classification")),r.a.createElement(p.a,{alignment:{horizontal:"end"},margin:{top:"regular"}},r.a.createElement(E.a,{appearance:"outlined",intent:"negative",onClick:function(){l({type:"remove_item",payload:t,path:""})}},"Remove Item"))))};function w(){var e=Object(d.a)(["\n            border: 1px solid grey;\n            border-radius: 10px;\n            padding: 20px;\n            margin: 10px;\n          "]);return w=function(){return e},e}var P=function(e){var t=e.id,n=(e.title,e.index),i=Object(a.useContext)(v),l=i.state,c=i.dispatch,o=Object(y.a)(),d=l.tender.items.map((function(e,n){return e.relatedLot===t?r.a.createElement(k,{relatedLot:t,key:e.id,value:e,index:n}):null}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{direction:"column",styled:{Flex:Object(b.css)(w())}},r.a.createElement(E.a,{appearance:"outlined",intent:"negative",onClick:function(){return function(e){c({type:"REMOVE_LOT",payload:{id:e},path:"tender.lots[".concat(n,"]")})}(t)}},"Remove Lot"),r.a.createElement("label",null,"Lot Title:",r.a.createElement(f.TextInput,{isRequired:!0,name:"title",placeholder:"Lot Title",onChange:function(e){return c({type:"set",payload:e,path:"tender.lots[".concat(n,"].title")})}})),d,r.a.createElement(p.a,{margin:{top:"medium"},alignment:{horizontal:"space-between"}},r.a.createElement(E.a,{appearance:"outlined",intent:"positive",onClick:function(){c({type:"set",payload:{relatedLot:t,id:o,description:"",classification:{sheme:"CPV"},additionalClassification:[]},path:"tender.items[".concat(l.tender.items.length,"]")})}},"Add Item"))))},L=function(){var e=Object(a.useContext)(v),t=e.state,n=e.dispatch,i=t.tender.lots.map((function(e,t){return r.a.createElement(P,{id:e.id,title:e.title,key:e.id,index:t})})),l=Object(y.a)();return r.a.createElement(r.a.Fragment,null,i,r.a.createElement(p.a,{margin:{top:"medium"},alignment:{horizontal:"space-around"}},r.a.createElement(E.a,{intent:"positive",onClick:function(){n({type:"set",payload:{title:"",id:l},path:"tender.lots[".concat(t.tender.lots.length,"]")})}},"Add lot")))};function S(){var e=Object(d.a)(["\n              margin: 30px;\n            "]);return S=function(){return e},e}function V(){var e=Object(d.a)(["\n              margin: 30px;\n            "]);return V=function(){return e},e}function R(){var e=Object(d.a)(["\n            margin: 30px;\n          "]);return R=function(){return e},e}function D(){var e=Object(d.a)(["\n  width: 100%;\n"]);return D=function(){return e},e}function _(){var e=Object(d.a)(["\n  width: 40%;\n"]);return _=function(){return e},e}var z=b.default.form(_()),F=b.default.label(D()),q=function(){var e=Object(a.useContext)(v),t=e.state,n=e.dispatch;return a.createElement(p.a,{alignment:{horizontal:"center",vertical:"center"},direction:"column"},a.createElement(u.a,{variant:"h3",styled:{Text:Object(b.css)(R())}},"Create Tender"),a.createElement(z,{className:"form",onSubmit:function(e){e.preventDefault(),console.log(t)}},a.createElement(u.a,{variant:"span"}," Please fill in the fields: "),a.createElement(p.a,{direction:"row",alignment:{horizontal:"center"},styled:{Flex:Object(b.css)(V())}},a.createElement(F,null,"Tender title:",a.createElement(f.TextInput,{isRequired:!0,name:"title",placeholder:"Tender Title",onChange:function(e){return n({type:"set",payload:e,path:"tender.title"})}}))),a.createElement(p.a,{alignment:{horizontal:"center"},styled:{Flex:Object(b.css)(S())}},a.createElement(F,null,"Tender description",a.createElement(f.TextArea,{isRequired:!0,name:"description",placeholder:"Tender description",onChange:function(e){return n({type:"set",payload:e,path:"tender.description"})}}))),a.createElement(p.a,null,a.createElement(F,null,"Scheme:",a.createElement(f.TextInput,{isDisabled:!0,placeholder:"CPV",value:"CPV"})),a.createElement(F,null,"Scheme id:",a.createElement(f.TextInput,{placeholder:"id",onChange:function(e){return n({type:"set",payload:e,path:"tender.classification.id"})}})),a.createElement(F,null,"Scheme description:",a.createElement(f.TextInput,{placeholder:"description",onChange:function(e){return n({type:"set",payload:e,path:"tender.classification.description"})}}))),a.createElement(L,null),a.createElement(p.a,{alignment:{horizontal:"end"},margin:{top:"medium",bottom:"large"}},a.createElement(E.a,null,"Submit"))))},A=n(11),M=n(9),B=n(57),J=function(e,t){switch(t.type){case"set":return Object(M.a)({},Object(B.set)(e,t.path,t.payload));case"REMOVE_LOT":var n=e.tender.items.filter((function(e){return e.relatedLot!==t.payload.id})),a=e.tender.lots.find((function(e){return e.id===t.payload.id})),r=e.tender.lots.indexOf(a),i=[].concat(Object(A.a)(e.tender.lots.slice(0,r)),Object(A.a)(e.tender.lots.slice(r+1)));return{tender:Object(M.a)(Object(M.a)({},e.tender),{},{lots:i,items:n})};case"EDIT_LOT":return e.tender.lots.find((function(e){return e.id===t.payload.id})).title=t.payload.title,Object(M.a)({},e);case"ADD_ITEM":return{tender:Object(M.a)(Object(M.a)({},e.tender),{},{items:[].concat(Object(A.a)(e.tender.items),[{id:t.payload.id,description:"",relatedLot:t.payload.relatedId}])})};case"remove_item":var l=[].concat(Object(A.a)(e.tender.items.slice(0,t.payload)),Object(A.a)(e.tender.items.slice(t.payload+1)));return{tender:Object(M.a)(Object(M.a)({},e.tender),{},{items:l})};case"remove_class":var c=t.payload.index,o=t.payload.classIndex,d=e.tender.items[c];return{tender:Object(M.a)(Object(M.a)({},e.tender),{},{items:[].concat(Object(A.a)(e.tender.items.slice(0,c)),[Object(M.a)(Object(M.a)({},d),{},{additionalClassification:[].concat(Object(A.a)(e.tender.items[c].additionalClassification.slice(0,o)),Object(A.a)(e.tender.items[c].additionalClassification.slice(o+1)))})],Object(A.a)(e.tender.items.slice(c+1)))})};default:return e}};var N=function(){var e=Object(a.useReducer)(J,{tender:{title:"",description:"",classification:{scheme:"CPV",id:"",description:""},lots:[],items:[]}}),t=Object(c.a)(e,2),n=t[0],i=t[1];return r.a.createElement(o.ThemeProvider,null,r.a.createElement(v.Provider,{value:{state:n,dispatch:i}},r.a.createElement(q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,n){e.exports=n(261)},65:function(e,t,n){},77:function(e,t,n){}},[[60,1,2]]]);
//# sourceMappingURL=main.3a6afe1c.chunk.js.map