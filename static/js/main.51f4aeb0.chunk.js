(this["webpackJsonptender-form"]=this["webpackJsonptender-form"]||[]).push([[0],{37:function(e,t,a){e.exports=a(94)},42:function(e,t,a){},54:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(29),l=a.n(r),c=(a(42),a(36)),d=a(11),o=(a(54),a(8)),s=a(9),m=a.n(s),u=a(4),p=a.n(u),f=a(5),b=a.n(f),O=a(33),y=a.n(O),h=a(10),j=a.n(h),v=a(1),E=a(95),g=Object(n.createContext)({state:{tender:{title:"",description:"",classification:{scheme:"CPV",id:"",description:""},lots:[],items:[]}},dispatch:function(){}}),x=a(34),C=a.n(x);function I(){var e=Object(o.a)(["\n  background-color: #ff9700;\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 10px;\n"]);return I=function(){return e},e}var _=v.default.button(I()),L=function(e){var t=e.index,a=e.classIndex,r=e.relatedLot,l=e.itemId,c=Object(n.useContext)(g),d=c.state,o=c.dispatch,s=d.tender.items.filter((function(e){return e.relatedLot===r}))[0];return i.a.createElement(p.a,{margin:{top:"regular",bottom:"regular"}},i.a.createElement("label",null,i.a.createElement(m.a,{variant:"small"},"Scheme:"),i.a.createElement(b.a,{isDisabled:!0,placeholder:"CPV",value:"CPV"})),i.a.createElement("label",null,i.a.createElement(m.a,{variant:"small"},"Scheme id:"),i.a.createElement(b.a,{placeholder:"id",value:s.additionalClassification[a].id,onChange:function(e){return o({type:"add_additional_class_id",payload:{value:e,itemId:l,classIndex:a},path:""})}})),i.a.createElement("label",null,i.a.createElement(m.a,{variant:"small"}," Scheme description:"),i.a.createElement(b.a,{placeholder:"description",value:s.additionalClassification[a].description,onChange:function(e){return o({type:"set_additional_class_desc",payload:{value:e,itemId:l,classIndex:a},path:""})}})),i.a.createElement(_,{type:"button",onClick:function(){o({type:"remove_class",payload:{index:t,classIndex:a},path:""})}},i.a.createElement("i",{className:"fa fa-trash"})))};function k(){var e=Object(o.a)(["\n              margin: auto;\n              margin-top: 20px;\n            "]);return k=function(){return e},e}function T(){var e=Object(o.a)(["\n            margin-top: 10px;\n            padding: 15px;\n            border: 1px dashed grey;\n          "]);return T=function(){return e},e}var w=function(e){var t=e.relatedLot,a=e.index,r=e.itemId,l=Object(n.useContext)(g),c=l.state,d=l.dispatch;return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{direction:"column",styled:{Flex:Object(v.css)(T())}},i.a.createElement("label",null,"Description",i.a.createElement(b.a,{onChange:function(e){return d({type:"set_item_desc",payload:{value:e,relatedLot:t,itemId:r},path:""})}})),i.a.createElement(p.a,{margin:{top:"regular",bottom:"regular"}},i.a.createElement("label",null,i.a.createElement(m.a,{variant:"small"},"Scheme:"),i.a.createElement(b.a,{isDisabled:!0,placeholder:"CPV",value:"CPV"})),i.a.createElement("label",null,i.a.createElement(m.a,{variant:"small"},"Scheme id:"),i.a.createElement(b.a,{placeholder:"id",onChange:function(e){return d({type:"set_class_id",payload:{value:e,itemId:r},path:""})}})),i.a.createElement("label",null,i.a.createElement(m.a,{variant:"small"}," Scheme description:"),i.a.createElement(b.a,{placeholder:"description",onChange:function(e){return d({type:"set_class_desc",payload:{value:e,itemId:r},path:""})}}))),i.a.createElement("label",null,"Quantity:",i.a.createElement(b.a,{name:"quantity",onChange:function(e){return d({type:"set_quantity",payload:{value:e,itemId:r},path:""})}})),i.a.createElement(C.a,{direction:"row",name:"unit",options:{1:{label:"metre",value:123},2:{label:"kilo",value:321}},onChange:function(e){var t=e.value,a=e.label;return d({type:"set_unit",payload:{id:t,name:a,itemId:r},path:""})},styled:{RadioGroup:Object(v.css)(k())}}),c.tender.items.filter((function(e){return e.relatedLot===t}))[a].additionalClassification.map((function(e,n){return i.a.createElement(L,{index:a,classIndex:n,key:Object(E.a)(),relatedLot:t,itemId:r})})),i.a.createElement(p.a,null,i.a.createElement(j.a,{type:"button",onClick:function(){d({type:"add_class",payload:{scheme:"CPV",id:"",description:"",relatedLot:t,index:a,itemId:r},path:"tender.items[".concat(a,"].additionalClassification[").concat(c.tender.items[a].additionalClassification.length,"]")})}},"Add Classification")),i.a.createElement(p.a,{alignment:{horizontal:"end"},margin:{top:"regular"}},i.a.createElement(j.a,{type:"button",appearance:"outlined",intent:"negative",onClick:function(){d({type:"remove_item",payload:a,path:""})}},"Remove Item"))))};function P(){var e=Object(o.a)(["\n            border: 1px solid grey;\n            border-radius: 10px;\n            padding: 20px;\n            margin: 10px;\n          "]);return P=function(){return e},e}var S=function(e){var t=e.id,a=(e.title,e.index),r=Object(n.useContext)(g),l=r.state,c=r.dispatch,d=Object(E.a)(),o=l.tender.items.filter((function(e){return e.relatedLot===t})).map((function(e,a){return i.a.createElement(w,{relatedLot:t,key:e.id,value:e,index:a,itemId:e.id})}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{direction:"column",styled:{Flex:Object(v.css)(P())}},i.a.createElement(j.a,{appearance:"outlined",intent:"negative",onClick:function(){return function(e){c({type:"REMOVE_LOT",payload:{id:e},path:"tender.lots[".concat(a,"]")})}(t)}},"Remove Lot"),i.a.createElement("label",null,"Lot Title:",i.a.createElement(b.a,{isRequired:!0,name:"title",placeholder:"Lot Title",onChange:function(e){return c({type:"set",payload:e,path:"tender.lots[".concat(a,"].title")})}})),o,i.a.createElement(p.a,{margin:{top:"medium"},alignment:{horizontal:"space-between"}},i.a.createElement(j.a,{type:"button",appearance:"outlined",intent:"positive",onClick:function(){c({type:"set",payload:{relatedLot:t,id:d,description:"",classification:{scheme:"CPV"},additionalClassification:[]},path:"tender.items[".concat(l.tender.items.length,"]")})}},"Add Item"))))},V=function(){var e=Object(n.useContext)(g),t=e.state,a=e.dispatch;return i.a.createElement(i.a.Fragment,null,t.tender.lots.map((function(e,t){return i.a.createElement(S,{id:e.id,title:e.title,key:e.id,index:t})})),i.a.createElement(p.a,{margin:{top:"medium"},alignment:{horizontal:"space-around"}},i.a.createElement(j.a,{type:"button",intent:"positive",onClick:function(){a({type:"set",payload:{title:"",id:Object(E.a)()},path:"tender.lots[".concat(t.tender.lots.length,"]")})}},"Add lot")))};function R(){var e=Object(o.a)(["\n              margin: 30px;\n            "]);return R=function(){return e},e}function D(){var e=Object(o.a)(["\n              margin: 30px;\n            "]);return D=function(){return e},e}function q(){var e=Object(o.a)(["\n            margin: 30px;\n          "]);return q=function(){return e},e}function z(){var e=Object(o.a)(["\n  width: 100%;\n"]);return z=function(){return e},e}function F(){var e=Object(o.a)(["\n  width: 40%;\n"]);return F=function(){return e},e}var A=v.default.form(F()),M=v.default.label(z()),B=function(){var e=Object(n.useContext)(g),t=e.state,a=e.dispatch;return n.createElement(p.a,{alignment:{horizontal:"center",vertical:"center"},direction:"column"},n.createElement(m.a,{variant:"h3",styled:{Text:Object(v.css)(q())}},"Create Tender"),n.createElement(A,{className:"form",onSubmit:function(e){e.preventDefault(),console.log(t)}},n.createElement(m.a,{variant:"span"}," Please fill in the fields: "),n.createElement(p.a,{direction:"row",alignment:{horizontal:"center"},styled:{Flex:Object(v.css)(D())}},n.createElement(M,null,"Tender title:",n.createElement(b.a,{isRequired:!0,name:"title",placeholder:"Tender Title",onChange:function(e){return a({type:"set",payload:e,path:"tender.title"})}}))),n.createElement(p.a,{alignment:{horizontal:"center"},styled:{Flex:Object(v.css)(R())}},n.createElement(M,null,"Tender description",n.createElement(y.a,{isRequired:!0,name:"description",placeholder:"Tender description",onChange:function(e){return a({type:"set",payload:e,path:"tender.description"})}}))),n.createElement(p.a,null,n.createElement(M,null,"Scheme:",n.createElement(b.a,{isDisabled:!0,placeholder:"CPV",value:"CPV"})),n.createElement(M,null,"Scheme id:",n.createElement(b.a,{placeholder:"id",onChange:function(e){return a({type:"set",payload:e,path:"tender.classification.id"})}})),n.createElement(M,null,"Scheme description:",n.createElement(b.a,{placeholder:"description",onChange:function(e){return a({type:"set",payload:e,path:"tender.classification.description"})}}))),n.createElement(V,null),n.createElement(p.a,{alignment:{horizontal:"end"},margin:{top:"medium",bottom:"large"}},n.createElement(j.a,null,"Submit"))))},J=a(2),N=a(3),W=a(35),G=function(e,t){switch(t.type){case"set":return Object(N.a)({},Object(W.set)(e,t.path,t.payload));case"REMOVE_LOT":var a=e.tender.items.filter((function(e){return e.relatedLot!==t.payload.id})),n=e.tender.lots.find((function(e){return e.id===t.payload.id})),i=e.tender.lots.indexOf(n),r=[].concat(Object(J.a)(e.tender.lots.slice(0,i)),Object(J.a)(e.tender.lots.slice(i+1)));return{tender:Object(N.a)({},e.tender,{lots:r,items:a})};case"EDIT_LOT":return e.tender.lots.find((function(e){return e.id===t.payload.id})).title=t.payload.title,Object(N.a)({},e);case"ADD_ITEM":return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items),[{id:t.payload.id,description:"",relatedLot:t.payload.relatedId}])})};case"remove_item":var l=[].concat(Object(J.a)(e.tender.items.slice(0,t.payload)),Object(J.a)(e.tender.items.slice(t.payload+1)));return{tender:Object(N.a)({},e.tender,{items:l})};case"remove_class":var c=t.payload.index,d=t.payload.classIndex,o=e.tender.items[c];return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,c)),[Object(N.a)({},o,{additionalClassification:[].concat(Object(J.a)(e.tender.items[c].additionalClassification.slice(0,d)),Object(J.a)(e.tender.items[c].additionalClassification.slice(d+1)))})],Object(J.a)(e.tender.items.slice(c+1)))})};case"add_class":var s=e.tender.items.filter((function(e){return e.id===t.payload.itemId}))[0],m=e.tender.items.indexOf(s);return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,m)),[Object(N.a)({},s,{additionalClassification:[].concat(Object(J.a)(s.additionalClassification),[{scheme:t.payload.scheme,id:t.payload.id,description:t.payload.description}])})],Object(J.a)(e.tender.items.slice(m+1)))})};case"set_item_desc":var u=e.tender.items.filter((function(e){return e.id===t.payload.itemId}))[0],p=e.tender.items.indexOf(u);return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,p)),[Object(N.a)({},u,{description:t.payload.value})],Object(J.a)(e.tender.items.slice(p+1)))})};case"set_class_id":var f=e.tender.items.filter((function(e){return e.id===t.payload.itemId}))[0],b=e.tender.items.indexOf(f);return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,b)),[Object(N.a)({},f,{classification:Object(N.a)({},f.classification,{id:t.payload.value})})],Object(J.a)(e.tender.items.slice(b+1)))})};case"set_class_desc":var O=e.tender.items.filter((function(e){return e.id===t.payload.itemId}))[0],y=e.tender.items.indexOf(O);return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,y)),[Object(N.a)({},O,{classification:Object(N.a)({},O.classification,{description:t.payload.value})})],Object(J.a)(e.tender.items.slice(y+1)))})};case"set_quantity":var h=e.tender.items.filter((function(e){return e.id===t.payload.itemId}))[0],j=e.tender.items.indexOf(h);return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,j)),[Object(N.a)({},h,{quantity:t.payload.value})],Object(J.a)(e.tender.items.slice(j+1)))})};case"set_unit":var v=e.tender.items.filter((function(e){return e.id===t.payload.itemId}))[0],E=e.tender.items.indexOf(v);return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,E)),[Object(N.a)({},v,{unit:{id:t.payload.id,name:t.payload.name}})],Object(J.a)(e.tender.items.slice(E+1)))})};case"add_additional_class_id":var g=e.tender.items.filter((function(e){return e.id===t.payload.itemId}))[0],x=e.tender.items.indexOf(g),C=g.additionalClassification[t.payload.classIndex];return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,x)),[Object(N.a)({},g,{additionalClassification:[].concat(Object(J.a)(g.additionalClassification.slice(0,t.payload.classIndex)),[Object(N.a)({},C,{id:t.payload.value})],Object(J.a)(g.additionalClassification.slice(t.payload.classIndex+1)))})],Object(J.a)(e.tender.items.slice(x+1)))})};case"set_additional_class_desc":var I=e.tender.items.filter((function(e){return e.id===t.payload.itemId}))[0],_=e.tender.items.indexOf(I),L=I.additionalClassification[t.payload.classIndex];return{tender:Object(N.a)({},e.tender,{items:[].concat(Object(J.a)(e.tender.items.slice(0,_)),[Object(N.a)({},I,{additionalClassification:[].concat(Object(J.a)(I.additionalClassification.slice(0,t.payload.classIndex)),[Object(N.a)({},L,{description:t.payload.value})],Object(J.a)(I.additionalClassification.slice(t.payload.classIndex+1)))})],Object(J.a)(e.tender.items.slice(_+1)))})};default:return e}};var Q=function(){var e=Object(n.useReducer)(G,{tender:{title:"",description:"",classification:{scheme:"CPV",id:"",description:""},lots:[],items:[]}}),t=Object(c.a)(e,2),a=t[0],r=t[1];return i.a.createElement(d.ThemeProvider,null,i.a.createElement(g.Provider,{value:{state:a,dispatch:r}},i.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.51f4aeb0.chunk.js.map